{% load static %}
{# ATH Móvil Payment Button - Backend-first approach #}

<button
    type="button"
    class="athm-button athm-button-{{ theme }}"
    data-athm-total="{{ total }}"
    data-athm-subtotal="{{ subtotal|default:'' }}"
    data-athm-tax="{{ tax|default:'' }}"
    data-athm-metadata1="{{ metadata1|default:'' }}"
    data-athm-metadata2="{{ metadata2|default:'' }}"
    data-athm-lang="{{ lang }}"
    data-athm-timeout="{{ timeout }}"
    onclick="openATHMModal(this)"
>
    {# Placeholder SVG - user will provide actual button SVG #}
    <svg width="200" height="50" xmlns="http://www.w3.org/2000/svg">
        <rect width="200" height="50" fill="#ff6b00" rx="5"/>
        <text x="50%" y="50%" font-family="Arial" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            {% if lang == 'en' %}Pay with ATH Móvil{% else %}Pagar con ATH Móvil{% endif %}
        </text>
    </svg>
</button>

{# Modal for payment flow #}
{% include "athm_modal.html" %}

{# Include styles and scripts #}
<link rel="stylesheet" href="{% static 'django_athm/athm.css' %}">
<script src="{% static 'django_athm/athm.js' %}"></script>
